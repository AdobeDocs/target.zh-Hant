---
keywords: automated traffic allocation;targeting;Increment Count and Keep User in Activity;traffic allocation
description: Adobe Target中的「自動分配」活動可識別兩個或兩個以上體驗中的成功者，並自動將更多流量重新分配給成功者，以在測試繼續執行和學習時提高轉化率。
title: 自動分配
feature: Auto-Allocate
translation-type: tm+mt
source-git-commit: 9b57d5554884b06d278c3baef3b2c1d5f37bdeb5
workflow-type: tm+mt
source-wordcount: '3374'
ht-degree: 74%

---


# 自動分配概述

自動分配會從兩個或多個體驗中識別獲勝者，並自動重新分配更多流量給獲勝者以增加轉換，同時測試會繼續執行和學習。

使用三步引導式工作流程建立A/B活動時，您可以選擇「自動配置至最佳體驗」選項[!UICONTROL 。]

## 挑戰 {#section_85D5A03637204BACA75E19646162ACFF}

標準 A/B 測試有其固有成本。您必須耗費流量來測量每個體驗的效能，並透過分析來定奪勝出體驗: 即使在您認定某些體驗勝過其他體驗之後，流量分布仍然固定。另外，很難決定樣本大小，必須等到活動執行完整個過程，您才能對獲勝者採取動作。即使完成所有作業，已識別出的獲勝者仍有可能不是真正贏家。

## 解決方案: 自動分配  {#section_98388996F0584E15BF3A99C57EEB7629}

自動分配可降低這項成本及定奪勝出體驗時的額外負荷。自動分配會監控所有體驗的目標量度效能，並依比例將更多新加入者安排到表現優異的體驗。有足夠的流量保留來探索其他體驗。即使活動仍在執行，您也可以看到測試帶給結果的好處: 最佳化與學習同步進行。

自動分配會逐漸將訪客移往勝出體驗，您不必等到活動結束才決定獲勝者。您會更快從提升中受益，因為原本安排到較差體驗的活動加入者會看到潛在的勝出體驗。

Target 中的標準 A/B 測試只會顯示挑戰體驗與控制體驗的成對比較。例如，若活動有這些體驗: A、B、C、D，其中 A 是控制體驗，則標準 Target A/B 測試會比較 A 與 B、A 與 C，以及 A 與 D。

在這類測試中，多數產品 (包括 Target) 皆利用 Student t 檢定來產生基於 p 值的可信度。接著，此信賴值用來判斷挑戰體驗與控制體驗是否明顯不同。不過，Target 不會自動執行隱含比較 (B 與 C、B 與 D、C 與 D)，這是為了找出「最佳」體驗才需要的比較。因此，市場行銷人員必須手動分析結果，才能決定「最佳」體驗。

自動分配會對所有體驗執行全部的隱含比較，以產生「真正」贏家。測試中沒有「控制」體驗的概念。

自動分配以智慧式方法分配體驗給新訪客，直到最佳體驗與任何其他體驗的信賴區間不重疊為止。這個過程通常會產生誤判，但自動分配會根據補償重複評估的 [Bernstein 不等式](https://en.wikipedia.org/wiki/Bernstein_inequalities_(probability_theory))來使用信賴區間。現在，我們有真正贏家。當自動分配停止時，假設對到達頁面的訪客沒有顯著的時間相依性，則至少有 95% 的機會使自動分配所傳回體驗的真正回應低於成功體驗之真正回應的幅度在 1% (相對) 以下。

## 自動分配與 A//B 或 自動個人化的使用時機 {#section_3F73B0818A634E4AAAA60A37B502BFF9}

* 當您想要從一開始便最佳化活動，並盡快識別勝出體驗時，請使用&#x200B;**自動分配**。更常提供表現優異的體驗可增進整體活動效能。
* 當您想要在最化佳網站之前查明所有活動的效能時，請使用標準&#x200B;**[A/B 測試](/help/c-activities/t-test-ab/test-ab.md#task_05E33EB15C4D4459B5EAFF90A94A7977)**。A/B 測試有助於您將所有體驗排名，而自動流量分配會找出最佳表現者，但不保證較差表現者之間的差異性。
* 使用[當您想要將最複雜的演算法最佳化時可以使用自動個人化](/help/c-activities/t-automated-personalization/automated-personalization.md#task_8AAF837796D74CF893CA2F88BA1491C9)，例如根據個人設定檔屬性建立預測的機器學習模型。自動流量分配會考慮體驗的整體行為 (如同標準 A/B 測試)，不會區別訪客。

## 主要優點 {#section_0913BF06F73C4794862561388BBDDFF0}

* 保留 A/B 測試的的嚴謹度
* 比手動 A/B 測試更快找出統計意義上的顯著成功者
* 比手動 A/B 測試提供更高的平均促銷活動提升度

## 術語 {#section_670F8785BA894745B43B6D4BFF953188}

在討論「自動分配」時，下列詞語相當實用:

**多臂吃角子老虎機:**&#x200B;最佳化的[多臂吃角子老虎機](https://en.wikipedia.org/wiki/Multi-armed_bandit)方法可平衡探索學習和該學習的利用。

## 演算法運作方式 {#section_ADB69A1C7352462D98849F2918D4FF7B}

自動分配背後的整個邏輯涵蓋實測效能 (例如轉換率) 和累積資料的信賴區間。不同於 A/B 測試平均分割體驗之間的流量，自動分配會變更體驗之間的流量分配。

* 80% 的訪客是透過下述的智慧型邏輯來分配。
* 20% 的訪客是隨機分配到所有體驗，以適應於不斷改變的訪客行為。

在利用表現良好的體驗時，多臂吃角子老虎機法會保留一些體驗以供探索。除了將更多的新訪客安排到表現較佳的體驗，仍然能夠隨情況變化而做出反應。這些模型至少每一小時更新一次，以確保模型是對最新資料做出反應。

隨著越多訪客進入活動，有些體驗會開始變得更成功，而更多流量會分配給成功體驗。20% 的流量會持續地隨機供應，以探索所有體驗。如果其中一個表現較差的體驗開始有較好的表現，則會分配更多流量給該體驗。或者，如果表現較佳的活動變得較不成功，則分配給該體驗的流量會變少。例如，若某事件促使訪客在您的媒體網站上尋找不同資訊，或您的零售網站上的週末銷售提供不同的結果。

下圖指出演算法在測試四個體驗時如何運作:

![](assets/auto-allocate.png)

圖中顯示分配給每個體驗的流量如何經歷活動期限的幾個回合而增加，直到確定完勝贏家為止。

| 四捨五入 | 說明 |
|--- |--- |
| ![熱身回合](/help/c-activities/automated-traffic-allocation/assets/aa-phase-0.png) | **熱身回合 (0)**: 在熱身回合期間，每個體驗會獲得相等的流量分配，直到活動中的每個體驗至少有 1,000 位訪客和 50 次轉換為止。<ul><li>體驗 A=25%</li><li>體驗 B=25%</li><li>體驗 C=25%</li><li>體驗 D=25%</li></ul>當每個體驗達到 1,000 位訪客和 50 次轉換之後，Target 會開始自動分配流量。所有分配皆透過回合輪翻進行，每個回合會挑出兩個體驗。<br>只有兩個體驗會前進到下一個回合: D 和 C。<br>前進就表示 80% 的流量平均分配給兩個體驗，而另外兩個體驗會持續參與，但在有新訪客進入活動時，只會從 20% 的隨機流量分配中獲得流量。<br>所有分配每小時更新一次 (如沿著上面 x 軸的回合所示)。每個回合之後會比較累積資料。 |
| ![第 1 回合](/help/c-activities/automated-traffic-allocation/assets/aa-phase-1.png) | **第 1 回合**: 在此回合中，80% 的流量分配給體驗 C 和 D (各 40%)。20% 的流量隨機分配給 A、B、C、D (各 5%)。在此回合中，體驗 A 表現良好。<ul><li>演算法會挑選體驗 D 來進行下一個循環，因為它有最高的轉換率 (如每個活動垂直刻度上的 所示)。</li><li>演算法還會挑選體驗 A 來前進，因為相較於剩餘的體驗，它的 Bernstein 95% 信賴區間上界最高。</li></ul>體驗 D 和 A 會前進。 |
| ![第 2 回合](/help/c-activities/automated-traffic-allocation/assets/aa-phase-2.png) | **第 2 回合**: 在這個回合中，80%的流量會分配給體驗 A 和 D (各 40%)。20% 的流量會隨機分配，因此，這表示 A、B、C 和 D 每個都會獲得 5% 的流量。在此回合中，體驗 B 表現良好。<ul><li>演算法會挑選體驗 D 來進行下一個循環，因為它有最高的轉換率 (如每個活動垂直刻度上的 所示)。</li><li>演算法還會挑選體驗 B 來前進，因為相較剩餘的體驗，它的 Bernstein 95% 信賴區間上界最高。</li></ul>體驗 D 和 B 會前進。 |
| ![第 3 回合](/help/c-activities/automated-traffic-allocation/assets/aa-phase-3.png) | **第 3 回合**: 在這個回合中，80%的流量會分配給體驗 B 和 D (各 40%)。20% 的流量會隨機分配，因此，這表示 A、B、C 和 D 每個都會獲得 5% 的流量。在此回合中，體驗 D 持續表現良好，體驗 C 也表現良好。<ul><li>演算法會挑選體驗 D 來進行下一個循環，因為它有最高的轉換率 (如每個活動垂直刻度上的 所示)。</li><li>演算法還會挑選體驗 C 來前進，因為相較於剩餘的體驗，它的 Bernstein 95% 信賴區間上界最高。</li></ul>體驗 D 和 C 會前進。 |
| ![第 4 回合](/help/c-activities/automated-traffic-allocation/assets/aa-phase-4.png) | **第 4 回合**: 在此回合中，80% 的流量分配給體驗 C 和 D (各 40%)。20% 的流量會隨機分配，因此，這表示 A、B、C 和 D 每個都會獲得 5% 的流量。在此回合中，體驗 C 表現良好。<ul><li>演算法挑選體驗 C 來前進到下一個回合，因為其轉換率最高 (如每個活動的直垂標度上的 所示)。</li><li>演算法還會挑選體驗 D 來前進，因為相較於剩餘的體驗，它的 Bernstein 95% 信賴區間上界最高。</li></ul>體驗 C 和 D 會前進。 |
| ![第 n 回合](/help/c-activities/automated-traffic-allocation/assets/aa-phase-n.png) | **回合 n**:隨著活動進行，表現優異的體驗會開始浮現，過程會持續到出現勝出體驗為止。當轉換率最高的體驗和任何其他體驗的信賴區間不重疊時，即會標示為獲勝者，且會有[徽章會出現在活動的頁面](/help/c-activities/automated-traffic-allocation/determine-winner.md)和「活動」清單中。<ul><li>演算法會挑選體驗 C 成為確定贏家</li></ul>此時，演算法會將 80% 的流量供應給體驗 C，而 20% 的流量持續地隨機供應給所有體驗 (A、B、C、D)。C 總共獲得 85% 的流量。在很罕見的情況下，萬一獲勝者的信賴區間又開始重疊，演算法會回復到上面回合 4 的行為。<br>**重要**: 如果您在過程中太早手動選擇獲勝者，很容易會選出錯誤的體驗。因此，最好等待演算法決定勝出體驗。 |

>[!NOTE]
>
>如果活動只有兩個體驗，則兩個體驗的流量會相等，直到[!DNL Target]找到具有75%信賴的成功體驗。 此時，2/3的流量會分配給成功者，1/3的流量會分配給失敗者。 之後，當體驗達到95%的信賴度時，90%的流量會分配給成功者，10%會分配給失敗者。 我們總是會維持某些流量會傳送至「遺失」體驗，以避免長期誤報（亦即保留一些探索）。

激活[!UICONTROL 自動分配]活動後，不允許從UI執行以下操作：

* 將「流量配置」模式切換為「手動」
* 變更目標量度類型
* 變更「進階設定」面板中的選項

## 瞭解自動分配的運作方式

如需詳細資訊，請參閱[自動配置可讓您比手動測試更快取得測試結果和更高收入](/help/c-activities/automated-traffic-allocation/faster-results-higher-revenue.md)

## 注意事項 {#section_5C83F89F85C14FD181930AA420435E1D}

**自動分配功能只使用一個進階量度設定: 增加計數並讓使用者留在活動中**

不支援下列進階量度設定: 增加計數、釋放使用者、允許再進入並增加計數，以及釋放使用者並禁止再進入。

**經常再度訪問的訪客會抬高體驗轉換率。**

如果一位見到體驗 A 的訪客經常再度訪問且多次轉換，則體驗 A 的轉換率 (CR) 會不自然地提高。與體驗 B 做比較，其中訪客會轉換，但不經常再度訪問。因此，A 的 CR 看似優於 B 的 CR，所以新訪客很可能分配到 A 而非 B。如果您選擇每一個加入者就算一次，則 A 的 CR 和 B 的 CR 可能完全相同。

如果再度訪問的訪客隨機分佈，則對轉換率的影響很可能互相抵銷。為了減輕這種效應，請考慮將目標量度的計數方法變更為每一個加入者只算一次。

**區別較佳表現者，而非較差表現者。**

自動分配擅長區別表現優異的體驗 (並找出獲勝者)。有時，表現不佳的體驗之間沒有足夠的差異性。

如果您想要在所有體驗之間產生統計顯著差異性，您可以考慮使用手動流量分配模式。

**時間相關 (或隨情境變化) 的轉換率可能扭曲分配量。**

在標準 A/B 測試期間因為會平均影響所有體驗而可忽略的某些因素，在自動分配測試中不能忽略。演算法易受觀察的轉換率所影響。可能以不同程度影響體驗效能的因素範例如下:

* 具有變動情境 (時間、位置和性別等) 相關性的體驗。

   例如:

   * 「歡樂星期五」導致星期五的轉換偏高
   * 「起跑星期一」在星期一有較高的轉換
   * 「為東海岸冬季做好準備」在東海岸或進入冬季的地區會產生較高的轉換

這些因素在自動分配測試中扭曲結果的程度高於 A/B 測試，因為 A/B 測試會分析一段較長時期的結果。

* 體驗的延遲轉換時間不同，可能是由於消息的迫切性。

   例如，「七折促銷只到今天」暗示訪客今天應該成交，但「首購五折」就不會讓人感到相同的急迫性。

## 常見問題 {#section_0E72C1D72DE74F589F965D4B1763E5C3}

當您處理[!UICONTROL 自動分配]活動時，請參閱下列常見問答和答案：

### Analytics for Target(A4T)是否支援自動配置活動？

是.如需詳細資訊，請參閱&#x200B;*活動建立*&#x200B;中對自動分配活動](/help/c-integrating-target-with-mac/a4t/campaign-creation.md#a4t-aa)的[ Analytics for Target(A4T)支援。

###  再度訪問的訪客會自動重新分配到表現優異的體驗嗎? 

無.只會自動重新分配新的訪客。再度訪問的訪客會繼續看到原來的體驗。這是為了保護 A/B 測試的有效性。

###  演算法如何處理誤判? 

如果您等待到獲勝者徽章出現，演算法可保證 95% 可信度或 5% 誤判率。

### 自動分配何時開始分配流量?

當活動中的所有體驗皆至少有 1,000 位訪客和 50 次轉換之後，演算法就開始運作。

### 演算法的利用積極性如何?

使用自動分配時會供應 80% 的流量，而 20% 的流量隨機供應。識別出獲勝者之後，80% 的流量就全部流向它，而所有體驗皆繼續從 20% 之中獲得部分流量，包括勝出體驗。

###  到底會不會顯示失敗體驗? 

是.多臂吃角子老虎機會確保至少保留 20% 的流量，以供探索所有體驗不斷變化的模式或轉換率。

### 轉換延遲很久的活動會如何? 

既然要最佳化的所有體驗皆面臨類似的延遲，行為就同於轉換週期較快的活動，只是在流量分配程序開始之前，需要較長時間才會達到 50 次轉換臨界值。

###  自動分配與自動個人化有何不同? 

自動個人化根據每個訪客的設定檔屬性來決定最佳體驗。這樣做不僅會最佳化，還會將該使用者的活動個人化。

反之，自動分配是 A/B 測試，將會產生一個總獲勝者 (最受歡迎的體驗，但不一定是每位訪客認為最實用的體驗)。

###  再度訪問的訪客會在我的成功量度上增加轉換率嗎? 

目前，邏輯偏好快速轉換或頻繁造訪的訪客。這是因為這類訪客會暫時抬高所屬體驗的整體轉換率。演算法會經常自行調整，因此，轉換率提高每次皆會放大。如果網站有大量再度訪問的訪客，他們的轉換可能抬高其所屬體驗的整體轉奐率。再度訪問的訪客極可能是隨機分布，在此情況下，集體效應 (提升度增加) 會互相抵銷。為了減輕這種效應，請考慮將成功量度的計數方法變更為每一個加入者只算一次。

### 使用自動分配時，我可以利用樣本大小計算機來預估活動識別出獲勝者所需的時間嗎?

您可以使用現有的[範例大小計算器](https://docs.adobe.com/content/target-microsite/testcalculator.html)來估計測試的執行時間。 （如同傳統A/B測試，如果您要測試超過兩個選件或超過一個轉換量度／假設，請套用Bonferroni修正）。 請注意，此計算器專為傳統固定水準A/B測試而設計，僅提供預估。 使用自動分配活動的計算器是可選的，因為自動分配將為您聲明一個成功者——您不需要選擇固定的時間點來查看測試結果——提供的值始終在統計上有效。 在我們的實驗中，我們發現了以下內容：
* 在測試兩個體驗時，自動分配比固定水準測試（即範例大小計算器建議的時間範圍）更快找到成功者，當體驗之間的效能差異較大時，自動分配可能需要額外的時間來識別成功者。 在這些情況下，固定水準測試通常會在沒有統計顯著結果的情況下結束。
* 在測試兩個以上的體驗時，當單一體驗執行力強於其他所有體驗時，「自動分配」會比固定水準測試（即範例大小計算器建議的時間範圍）更快找到成功者。 當兩個或兩個以上的體驗都與其他體驗「勝出」，但彼此緊密相配時，「自動配置」可能需要額外的時間來判斷哪個體驗更優越。 在這些情況下，固定水準測試通常會以「成功」體驗優於表現欠佳的體驗而告終，但並未指出哪一種體驗更出色。

### 我是否應從「自動分配」活動移除執行不良的體驗，以加速決定成功者的程式？

確實沒有理由移除效能不佳的體驗。 自動分配會自動更頻繁地提供高效能的體驗，而較少地提供效能不佳的體驗。 在活動中留下執行不佳的體驗，並不會大幅影響決定成功者的速度。

20% 的訪客是隨機分配到所有體驗。提供給執行不良體驗的流量最少（20%除以體驗數）。

### 我可以在自動分配活動中途變更目標量度嗎？{#change-metric}

我們不建議您在活動中途變更目標量度。 雖然在使用[!DNL Target] UI的活動期間可以變更目標量度，但您應一律開始新活動。 我們不保證如果您在活動執行後變更目標量度時會發生什麼。

此建議適用於使用[!DNL Target]或[!DNL Analytics](A4T)作為報告來源的[!UICONTROL 自動分配]、[!UICONTROL 自動目標]和[!UICONTROL 自動個人化]活動。

### 在執行「自動配置」活動時，我是否可以使用「重設報表資料」選項？

不建議對[!UICONTROL 自動分配]活動使用[!UICONTROL 重設報告資料]選項。 雖然它會移除可見的報告資料，但此選項不會移除[!UICONTROL 自動配置]模型中的所有訓練記錄。 您不必為[!UICONTROL 自動分配]活動使用[!UICONTROL 重設報表資料]選項，而是建立新活動並停用原始活動。 (注意：本指南也適用於[!UICONTROL Auto-Target]和[!UICONTROL Automated Personalization]活動。)

### 自動分配構建模型如何與環境相關？

[!UICONTROL Auto-] Allocate僅根據預設環境中記錄的流量和轉換行為來建立模型。預設情況下，[!UICONTROL Production]是預設環境，但可以在Target [ Administration > Environments](/help/administrating-target/environments.md)中更改。

如果點擊發生在其他（非預設）環境，則流量會根據在預設環境中觀察到的轉換行為進行分配。 該點擊（轉換或非轉換）的結果將記錄為用於報告用途，但未在[!UICONTROL 自動分配]模型中考慮。

選取其他環境時，報表會顯示該環境的流量和轉換。 報表的預設選取環境永遠是所選取的帳戶範圍預設值。 預設環境不能按活動設定。

## 訓練影片 {#section_893E5B36DC4A415C9B1D287F51FCCB83}

以下影片含有本文章探討之概念的詳細資訊。

### 活動工作流程 - 鎖定目標 (2:14)  ![教學課程徽章](/help/assets/tutorial.png)

此視訊包含有關如何設定流量分配的資訊。

* 指派對象至您的活動
* 向上或向下調節流量
* 選取您的流量分配方法
* 在不同體驗之間分配流量

>[!VIDEO](https://video.tv.adobe.com/v/17385)

### 建立A/B測試(8:36)![教學課程標章](/help/assets/tutorial.png)

此視訊示範如何使用 Target 三步驟引導式工作流程來建立 A//B 測試。4:45 開始討論自動流量分配。

* 在 Adobe Target 中建立 A/B 活動
* 使用手動分割或自動流量分配來分配流量

>[!VIDEO](https://video.tv.adobe.com/v/17391)
